---
- name: Copy failover.sh, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/failover.sh
    dest: /etc/pgpool-II/failover.sh
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes

- name: Copy follow_master.sh, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/follow_master.sh
    dest: /etc/pgpool-II/follow_master.sh
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes

- name: Copy recovery_1st_stage_command, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/recovery_1st_stage_command
    dest: /postgresql/pg_data/recovery_1st_stage_command
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes

- name: Copy pgpool_remote_start, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/pgpool_remote_start
    dest: /postgresql/pg_data/pgpool_remote_start
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes

- name: Copy aws-escalation.sh, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/aws-escalation.sh
    dest: /postgresql/pg_data/aws-escalation.sh
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes

- name: Copy aws-de-escalation.sh, backing up the original if it differs from the copied version
  copy:
    src: /home/centos/ansible-posqlpgpoolcl3/scripts/aws-de-escalation.sh
    dest: /postgresql/pg_data/aws-de-escalation.sh
    owner: postgres
    group: postgres
    mode: '0777'
    backup: yes
